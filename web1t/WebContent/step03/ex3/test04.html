<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ex3-test04</title>
</head>
<body>
<script>
/* 실습 목표: 함수 레퍼런스 응용
 * - 함수의 주소를 주고 받을 수 있다.
 *
 */

//1) 바깥에서 함수를 파라미터로 넘겨주기
function plus(a, b) {
	return a + b;	 
}
 
function minus(a, b) {
	return a - b;   
} 

// func: 함수의 주소를 파라미터로 넘긴다.
// a, b: func()를 호출할 때 넘겨 줄 값이다.
function computer(func, a, b) {
	return func(a, b);
}

console.log( computer(plus, 10, 20) );
console.log( computer(minus, 10, 20) );

//2) 함수로부터 함수 주소를 받기
function functionFactory(name) {
	switch(name) {
	case 'plus':
		return function(a, b) { return a + b; }; // 클로저다.
	case 'minus':
		return function(a, b) { return a - b; }; // 클로저다.
	}
	/* 참고
	 * "중첩함수(nested function)"
	 *   - 함수 안에서 만든 함수.
	 * "클로저(closure)"
	 *   - 파라미터로 넘기거나 리턴하는 익명 함수를 말한다.
	 *   - 중첩 함수가 사용하는 메모리를 말하기도 한다.
	 *   - 
	 */
}

var myfunc = functionFactory('minus');
console.log( myfunc(10, 20) );

//3) 파라미터로 클로저(파라미터로 전달하는 익명함수 또는 리턴하는 익명함수) 전달하기 
var result = computer(function(a, b){ // 이렇게 파라미터로 넘기는 함수를 "클로저"라 부른다.
	var r = 1; 
	for (var i = 0; i < b; i++) {
		r *= a;
	}
	return r;
}, 2, 4);

console.log("2의 4승 = ", result);
</script>
</body>
</html>











