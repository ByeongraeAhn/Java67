<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ex4-test02</title>
</head>
<body>
<script>
/* 실습 목표: 객체 초기화
 *
 */

//1) 객체 초기화하는 단순 방법
var score = new Object();
score.name = "홍길동";
score.kor = 100;
score.eng = 100;
score.math = 100;
score.sum = score.kor + score.eng + score.math;
score.aver = score.sum / 3;

//2) 함수를 이용하여 객체를 초기화하기
function initScore(score, name, kor, eng, math) {
	score.name = name;
	score.kor = kor;
	score.eng = eng;
	score.math = math;
	score.sum = score.kor + score.eng + score.math;
	score.aver = score.sum / 3;
}
// 객체 생성
var s2 = new Object();
var s3 = new Object();

// 함수를 호출하여 객체를 초기화시킴
initScore(s2, "홍길동", 100, 100, 100);
initScore(s3, "임꺽정", 80, 90, 80);

function toString(obj) {
  console.log(obj.name, obj['kor'], obj["eng"], obj.math, obj['sum'], obj.aver);
}

// 객체 값 출력
toString(s2);
toString(s3);

console.log("-------------------------------");

//3) 초기화 함수에서 객체를 만들어 리턴하자!
function createScore(name, kor, eng, math) {
  // 내부에서 객체를 만들고,
	var score = new Object();
  
  // 파라미터로 넘어온 값으로 초기화 하고
  score.name = name;
  score.kor = kor;
  score.eng = eng;
  score.math = math;
  score.sum = score.kor + score.eng + score.math;
  score.aver = score.sum / 3;
  
  // 그리고 그 객체를 리턴한다.
  return score;
}

var s4 = createScore("홍길동", 90, 90, 90);
var s5 = createScore("임꺽정", 60, 60, 60);

toString(s4);
toString(s5);

console.log("-------------------------------");

//4) 객체 생성 및 초기화를 더 쌈팍하게 하는 방법!
// - 자바 언어의 클래스 흉내 내기
// - 객체 생성 후 즉시 호출하여 객체를 초기화하는 용도로 사용하는 함수를 "생성자 함수"라고 부른다.
// - 보통 생성자 함수는 다른 함수와 구분하기 위해 이름을 대문자로 시작한다. (규칙이 아니고 관례)
// - 그래서 많은 개발자들이 자바 클래스처럼 이름을 짓는다.
function Score(name, kor, eng, math) {
  // hidden 변수 this 사용!
  // 단 이 함수는 빈 객체를 생성하는 즉시(new 다음에), 바로 호출해야 한다.
  this.name = name;
  this.kor = kor;
  this.eng = eng;
  this.math = math;
  this.sum = this.kor + this.eng + this.math;
  this.aver = this.sum / 3;
}

var s6 = new Score("홍길동", 100, 50, 10);
var s7 = new Score("임꺽정", 40, 40, 40);

toString(s6);
toString(s7);

//Score()는 내부에서 this 변수를 사용하기 때문에 호출할 때 반드시 객체 주소를 넘겨야 한다.
//var s8 = Score("오류!", 10, 10, 10); // 오류!
//toString(s8);
</script>
</body>
</html>











